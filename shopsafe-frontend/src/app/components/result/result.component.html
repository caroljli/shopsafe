<div *ngIf="isLoaded && !httpError" id="result" class="segment">
    <div class="segment-text">
        <div class="heading-text">
            <h1>{{ location }}</h1>
            <p>Showing all grocery stores for your location.</p>
        </div>
        <div class="chart">
            <!-- TODO: integrate charts api -->
        </div>
        <div id="geochart" class="chart">
        </div>
        <div class="stores-list-heading">
            <h2 class="left-text">Local Grocery Stores</h2>
            <p class="right-text subtext">Click on a store to view store statistics</p>
        </div>
        <div class="stores-list" *ngFor="let store of result.stores">
            <div class="stores-list-item">
                <div class="left-text markers">
                    <a class="location-icon"><i class="fas fa-map-marker-alt"></i></a> &nbsp;
                    <a 
                        class="stores-list-location" 
                        [routerLink]="['/store', store.id]"
                    >
                        {{ store.name }}
                    </a>
                    <a class="rating">{{ store.score | round }}/10</a>
                </div>
                <div class="right-text">
                    <p class="address">{{ store.address }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="!isLoaded && !httpError" class="loading-screen" color="grey">
  <mat-spinner></mat-spinner>
  <br/>
  <p>Fetching Results...</p>
</div>

<app-http-error *ngIf="httpError" [httpErrorMessage]='httpErrorMessage'></app-http-error>